---

## Ключевые изменения в архитектуре приложения

Мы внесли ряд существенных изменений для улучшения структуры, читаемости и тестируемости нашего приложения.

### 1. Четкое разделение слоев

Мы реализовали строгое разделение ответственности между слоями:

* **Бизнес-логика** сосредоточена в слое `Services`.
* **Доступ к данным** осуществляется через слой `Repositories`.
* **Интерфейсы** для определения контрактов расположены в слое `Interfaces`.
* **Представление** и взаимодействие с пользователем находятся в слое `UI`.

### 2. Внедрение зависимостей

Для повышения гибкости и упрощения тестирования мы внедрили механизм **внедрения зависимостей**:

* **Сервисы** получают необходимые **репозитории** через свой конструктор.
* **ConsoleUI** получает экземпляры **сервисов** также через свой конструктор.

### 3. Интерфейсы репозиториев

Использование **интерфейсов репозиториев** предоставляет следующие преимущества:

* **Легкая смена реализаций**: Мы можем без труда менять конкретные реализации репозиториев (например, с одной базы данных на другую) без изменения бизнес-логики.
* **Упрощение тестирования**: Интерфейсы позволяют легко создавать "заглушки" (mocks) для тестирования сервисов в изоляции.

### 4. Валидация в бизнес-слое

Теперь **валидация входных данных** и **проверка бизнес-правил** происходят непосредственно в **бизнес-слое** (`Services`):

* Осуществляется **проверка входных данных** на корректность.
* Выполняется **проверка существования связанных сущностей**.
* Это обеспечивает **единое место для бизнес-правил**, гарантируя их консистентность и легкость поддержки.

### 5. Обработка ошибок

Мы стандартизировали подход к **обработке ошибок**:

* Используются **консистентные исключения** для различных типов ошибок.
* Реализована **централизованная обработка исключений** в `Program.cs`, что позволяет эффективно управлять ошибками на уровне всего приложения.

---
